# 클로저 

## 렉시컬스코프

## 함수 객체의 내부 슬롯 [[Environment]]

렉시컬 스코프가 가능하기 위해서 함수가 정의 될때 자신의 상위 스코프를 기억해야 한다. 이를 위해 함수는 [[Environment에]]에 자신이 정의된 환경, 즉 상위 스코프의 참조를 저장한다. 이때 저장된 참조는 현재 실행중인 실행 컨텍스트의 렉시컬 환겨긍ㄹ 가리킨다.

**함수 객체는 내부 슬롯 [[Environment]]에 저장한 렉시컬 환경의 참조, 즉 상위 스코프를 자신이 존재하는 한 기억한다.**

## 클로저와 렉시컬 환경

클로저는 함수와 그 함수가 선언된 렉시컬 환경(Lexical environment)과의 조합이다.



클로저에 의해 참조되는 상위 스코프의 변수(위 예제의 경우, foo 함수의 변수 x)를 **자유 변수(Free variable)**라고 부른다. 클로저(closure)란 “함수가 자유 변수에 대해 닫혀있다(closed)”라는 의미이다. 이를 좀 더 알기 쉽게 의역하자면 “자유 변수와 묶여있는 함수”라고 할 수 있다.



## 클로저의 활용

**클로저는 상태를 안전하게 유지하기 위해 사용한다.** 즉, 상태가 의도치 않게 변경되지 않도록 안전하게 **은닉(Information hiding)**한다. 그리고 이전 상태를 기억하다가 상태가 변경되면 **최신 상태(state)를 유지**한다.